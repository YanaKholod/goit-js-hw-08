{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAOC,SAASC,cAAc,kBAC9BC,EAAaF,SAASC,cAAc,uBACpCE,EAAcH,SAASC,cAAc,4BAE3CF,EAAKK,iBACH,SACA,EAAAP,EAAAQ,WAAS,SAAAC,GACP,IAAMC,EAAO,CAAEC,MAAON,EAAWO,MAAOC,QAASP,EAAYM,OAC7DE,aAAaC,QAAQ,sBAAuBC,KAAKC,UAAUP,GAAO,I,KAItER,EAAKK,iBAAiB,UAAU,SAAAE,GAG9B,GAFAA,EAAES,iBAEuB,KAArBb,EAAWO,OAAsC,KAAtBN,EAAYM,MACzC,OAAOO,MAAM,6BAEfC,QAAQC,IAAI,CAAEV,MAAON,EAAWO,MAAOC,QAASP,EAAYM,QAC5DV,EAAKoB,QACLR,aAAaS,WAAW,sB,IAE1B,IASMC,EATW,SAAAC,GACf,IACE,IAAMC,EAAQZ,aAAaa,QAAQF,GACnC,OAAiB,OAAVC,OAAiBE,EAAYZ,KAAKa,MAAMH,E,CAC/C,MAAOI,GACPV,QAAQC,IAAI,eAAgBS,EAAMjB,Q,EAIlBkB,CAAS,uBAEzBP,IACFnB,EAAWO,MAAQY,EAAYb,MAC/BL,EAAYM,MAAQY,EAAYX,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('input[name=\"email\"]');\nconst messageText = document.querySelector('textarea[name=\"message\"]');\n\nform.addEventListener(\n  'input',\n  throttle(e => {\n    const data = { email: emailInput.value, message: messageText.value };\n    localStorage.setItem('feedback-form-state', JSON.stringify(data), 500);\n  })\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  if (emailInput.value === '' || messageText.value === '') {\n    return alert('all fields must be filled');\n  }\n  console.log({ email: emailInput.value, message: messageText.value });\n  form.reset();\n  localStorage.removeItem('feedback-form-state');\n});\nconst required = key => {\n  try {\n    const state = localStorage.getItem(key);\n    return state === null ? undefined : JSON.parse(state);\n  } catch (error) {\n    console.log('Error state:', error.message);\n  }\n};\n\nconst dataStorage = required('feedback-form-state');\n\nif (dataStorage) {\n  emailInput.value = dataStorage.email;\n  messageText.value = dataStorage.message;\n}\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$emailInput","$b00c40859be242c5$var$messageText","addEventListener","throttle","e","data","email","value","message","localStorage","setItem","JSON","stringify","preventDefault","alert","console","log","reset","removeItem","$b00c40859be242c5$var$dataStorage","key","state","getItem","undefined","parse","error","$b00c40859be242c5$var$required"],"version":3,"file":"03-feedback.2bc9bfad.js.map"}